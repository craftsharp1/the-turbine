<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link href="css/nv.d3.1.8.1.css" rel="stylesheet" type="text/css">
    <script src="js/d3.3.5.5.js" charset="utf-8"></script>
    <script src="js/nv.d3.1.8.1.js"></script>

    <style>
        text {
            font: 12px sans-serif;
        }
        svg {
            display: block;
        }
        html, body, #chart1, svg {
            margin: 0px;
            padding: 0px;
            height: 100%;
            width: 100%;
        }
    </style>
</head>
<body>

<div id="chart1">
    <svg></svg>
</div>

<script>

    var data = [{values: [
                          
        // {"date": 15707, "open": 145.11, "high": 146.15, "low": 144.73, "close": 146.06, "volume": 192059000, "adjusted": 144.65},
        {"date":1432572017739,"open":100.0,"high":100.39189034786152,"low":97.14132109924633,"close":99.5113391674287,"volume":95.25324402871391,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.746"},
        {"date":1432658417739,"open":99.5113391674287,"high":100.57395340529136,"low":96.66845338586027,"close":100.3363616100957,"volume":104.19360519126938,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.751"},
        {"date":1432744817739,"open":100.3363616100957,"high":100.99769682375728,"low":99.77502933373042,"close":100.32105715862318,"volume":91.90855330547585,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.753"},
        {"date":1432831217739,"open":100.32105715862318,"high":103.08751504911876,"low":99.46478715476312,"close":99.96009251895478,"volume":93.84300473512987,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.754"},
        {"date":1432917617739,"open":99.96009251895478,"high":102.60354498626951,"low":98.03886937341574,"close":101.92372498789206,"volume":95.40003648514883,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.755"},
        {"date":1433004017739,"open":101.92372498789206,"high":102.92205591407829,"low":100.94971331195396,"close":102.50615036960873,"volume":98.92180363251705,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.756"},
        {"date":1433090417739,"open":102.50615036960873,"high":103.9182879541721,"low":100.47884827570073,"close":102.56538625660328,"volume":108.82469753596094,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.757"},
        {"date":1433176817739,"open":102.56538625660328,"high":104.49812775227043,"low":102.11579896696767,"close":102.9480097529683,"volume":107.2453101441497,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.757"},
        {"date":1433263217739,"open":102.9480097529683,"high":103.30975128145938,"low":101.89847345069556,"close":102.5472342994967,"volume":109.68267861048054,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.758"},
        {"date":1433349617739,"open":102.5472342994967,"high":103.60180452952072,"low":100.05929101658054,"close":100.41275966149867,"volume":90.37619332008255,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.759"},
        {"date":1433436017739,"open":100.41275966149867,"high":101.96366264476384,"low":99.48871427012809,"close":101.82302367556257,"volume":90.53744882458675,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.759"},
        {"date":1433522417739,"open":101.82302367556257,"high":102.89327892987384,"low":100.88625759618064,"close":101.70463878738748,"volume":109.05823622920148,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.760"},
        {"date":1433608817739,"open":101.70463878738748,"high":104.54881106289567,"low":98.77815659884347,"close":98.91470060391555,"volume":104.94577258121835,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.761"},
        {"date":1433695217739,"open":98.91470060391555,"high":99.32639058758409,"low":96.51550099370324,"close":97.24963971662963,"volume":93.49017144587893,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.761"},
        {"date":1433781617739,"open":97.24963971662963,"high":99.62840875835501,"low":95.48707611499798,"close":98.30042922483122,"volume":94.04807197199963,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.762"},
        {"date":1433868017739,"open":98.30042922483122,"high":101.0356061977781,"low":96.77851234075496,"close":99.75115985028684,"volume":106.33023243762713,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.764"},
        {"date":1433954417739,"open":99.75115985028684,"high":102.38497779685238,"low":98.69650030444092,"close":101.0837073104336,"volume":94.20982379236769,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.765"},
        {"date":1434040817739,"open":101.0837073104336,"high":103.65148885949843,"low":99.62125519575035,"close":103.62932862851773,"volume":101.32204384325676,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.766"},
        {"date":1434127217739,"open":103.62932862851773,"high":104.75873512816503,"low":101.27598416775746,"close":104.15931281960982,"volume":91.10459661359133,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.767"},
        {"date":1434213617739,"open":104.15931281960982,"high":106.16274196491356,"low":101.36961389862559,"close":104.81928352040251,"volume":95.43247132136815,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.768"},
        {"date":1434300017739,"open":104.81928352040251,"high":105.35209129856378,"low":104.76646440310172,"close":104.81692996167507,"volume":90.62937276864317,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.769"},
        {"date":1434386417739,"open":104.81692996167507,"high":104.91802022960324,"low":104.49544856141492,"close":104.50778551642165,"volume":97.39206245234455,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.770"},
        {"date":1434472817739,"open":104.50778551642165,"high":107.20699871463746,"low":102.66867792928034,"close":104.64607466498971,"volume":102.04276263246574,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.770"},
        {"date":1434559217739,"open":104.64607466498971,"high":107.03347098642655,"low":101.99297015945908,"close":106.0334261132298,"volume":100.52869833059346,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.771"},
        {"date":1434645617739,"open":106.0334261132298,"high":108.957743875387,"low":105.4834889270742,"close":108.42289804051818,"volume":93.71674905004741,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.772"},
        {"date":1434732017739,"open":108.42289804051818,"high":111.03892837510661,"low":107.04210869763993,"close":108.98915114416789,"volume":92.78508539305433,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.773"},
        {"date":1434818417739,"open":108.98915114416789,"high":110.42525315257816,"low":106.41394521511846,"close":107.05723465673948,"volume":106.89258315092914,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.774"},
        {"date":1434904817739,"open":107.05723465673948,"high":107.74347125255854,"low":104.7833347695632,"close":107.09051576421258,"volume":101.8107063756608,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.775"},
        {"date":1434991217739,"open":107.09051576421258,"high":108.99367102340204,"low":105.91357043503449,"close":108.56885048194562,"volume":97.83145077710601,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.776"},
        {"date":1435077617739,"open":108.56885048194562,"high":109.94164293982988,"low":106.66898243137777,"close":108.2199554489262,"volume":98.01886396708919,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.776"},
        {"date":1435164017739,"open":108.2199554489262,"high":108.70683767343368,"low":106.8622718094607,"close":108.11420757675589,"volume":103.75054253486216,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.777"},
        {"date":1435250417739,"open":108.11420757675589,"high":110.38399400885731,"low":105.65848565095186,"close":106.2577126427603,"volume":103.4994329222375,"symbol":"ABC.L","exchange":"FTSE100","timestamp":"2015-06-25T17:40:17.778"}

        ]}];

    nv.addGraph(function() {
        var chart = nv.models.ohlcBarChart()
            .x(function(d) { return d['date'] })
            .y(function(d) { return d['close'] })
            .duration(250)
            .margin({left: 75, bottom: 50});

        // chart sub-models (ie. xAxis, yAxis, etc) when accessed directly, return themselves, not the parent chart, so need to chain separately
        chart.xAxis
                .axisLabel("Dates")
                .tickFormat(function(d) {
                    return d3.time.format('%x')(new Date(d));
                });

        chart.yAxis
                .axisLabel('Stock Price')
                .tickFormat(function(d,i){ return '$' + d3.format(',.1f')(d); });

        d3.select("#chart1 svg")
                .datum(data)
                .transition().duration(500)
                .call(chart);

        nv.utils.windowResize(chart.update);
        return chart;
    });


</script>
</body>
</html>