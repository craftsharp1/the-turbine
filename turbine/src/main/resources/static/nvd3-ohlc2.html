<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link href="css/nv.d3.css" rel="stylesheet" type="text/css">
    <script src="js/d3.js" charset="utf-8"></script>
    <script src="js/nv.d3.js"></script>

    <style>
        text {
            font: 12px sans-serif;
        }
        svg {
            display: block;
        }
        html, body, #chart1, svg {
            margin: 0px;
            padding: 0px;
            height: 100%;
            width: 100%;
        }
    </style>
</head>
<body>

<div id="chart1">
    <svg></svg>
</div>

<script>

    var data = [{values: [
                          
        // {"date": 15707, "open": 145.11, "high": 146.15, "low": 144.73, "close": 146.06, "volume": 192059000, "adjusted": 144.65},
        {"date":1430204292956,"open":99.41975234997005,"high":99.53132070964094,"low":99.07883459326041,"close":99.5205154766552,"volume":97.34370874223657},
        {"date":1430290692956,"open":99.5205154766552,"high":101.51722097521362,"low":96.65390899968887,"close":100.94773512473273,"volume":98.98955603177842},
        {"date":1430377092956,"open":100.94773512473273,"high":101.47777866256803,"low":99.96059287822008,"close":100.65896362531885,"volume":98.61131781488515},
        {"date":1430463492956,"open":100.65896362531885,"high":101.60865834247612,"low":100.65586109709959,"close":101.30285137107187,"volume":102.59315221845911},
        {"date":1430549892956,"open":101.30285137107187,"high":103.66267898875299,"low":98.46573593503908,"close":102.35135812806978,"volume":97.13288620657669},
        {"date":1430636292956,"open":102.35135812806978,"high":104.56492763479194,"low":100.56451783054504,"close":101.17350970903887,"volume":102.23565715006754},
        {"date":1430722692956,"open":101.17350970903887,"high":103.8254350399139,"low":100.18116636930662,"close":100.45563499311874,"volume":101.76628206096846},
        {"date":1430809092956,"open":100.45563499311874,"high":100.55495389880012,"low":98.44808882464892,"close":99.91561137347072,"volume":98.32689817018297},
        {"date":1430895492956,"open":99.91561137347072,"high":102.44661889072367,"low":98.08827004638633,"close":101.17935825379475,"volume":97.52133376539258},
        {"date":1430981892956,"open":101.17935825379475,"high":102.7403798905746,"low":99.96422697852685,"close":101.70605578680403,"volume":99.90009726115251},
        {"date":1431068292956,"open":101.70605578680403,"high":104.65748583385574,"low":99.50609369929225,"close":100.0361007839405,"volume":102.54978735977916},
        {"date":1431154692956,"open":100.0361007839405,"high":102.35072763848841,"low":97.86801363905518,"close":100.21471148515664,"volume":99.8981546127858},
        {"date":1431241092956,"open":100.21471148515664,"high":101.8846997854729,"low":98.15400115041601,"close":100.47608369566738,"volume":100.85096307175775},
        {"date":1431327492956,"open":100.47608369566738,"high":102.60072690988065,"low":98.66826239019043,"close":101.38835675683082,"volume":102.85922415098115},
        {"date":1431413892956,"open":101.38835675683082,"high":103.66360783761341,"low":100.11090554117767,"close":101.05039343036783,"volume":100.93529669573464},
        {"date":1431500292956,"open":101.05039343036783,"high":104.02397250242826,"low":100.35005410148192,"close":103.31331538675018,"volume":98.99376836458214},
        {"date":1431586692956,"open":103.31331538675018,"high":105.17663359709032,"low":100.57139819967819,"close":100.76473248141487,"volume":98.1879551323746},
        {"date":1431673092956,"open":100.76473248141487,"high":101.34371028212358,"low":98.62805365640192,"close":98.69436096918484,"volume":102.14528032755733},
        {"date":1431759492956,"open":98.69436096918484,"high":101.394205689434,"low":97.61993972720518,"close":101.26061121934023,"volume":98.17471158276706},
        {"date":1431845892956,"open":101.26061121934023,"high":102.73350388033042,"low":98.92710840240473,"close":99.3962613834943,"volume":100.62686047831973},
        {"date":1431932292956,"open":99.3962613834943,"high":100.3544380063185,"low":97.9030800678319,"close":99.83548655994835,"volume":101.63226975840894},
        {"date":1432018692956,"open":99.83548655994835,"high":102.44413000805957,"low":97.41022923827023,"close":99.77177065619453,"volume":101.42583439924962},
        {"date":1432105092956,"open":99.77177065619453,"high":102.14521114304955,"low":98.1071075511138,"close":101.98776832026314,"volume":97.38522416590608},
        {"date":1432191492956,"open":101.98776832026314,"high":102.19746881398105,"low":101.79846759828685,"close":102.14151212139387,"volume":101.76860134870812},
        {"date":1432277892956,"open":102.14151212139387,"high":103.54394389951862,"low":101.54016476009183,"close":102.42091816246624,"volume":98.93184220654317},
        {"date":1432364292956,"open":102.42091816246624,"high":104.74645647107003,"low":99.72550789444077,"close":102.46796017038467,"volume":99.53789911805288},
        {"date":1432450692956,"open":102.46796017038467,"high":104.69710554332322,"low":100.54463300317123,"close":101.80570763236852,"volume":99.9408586811994},
        {"date":1432537092956,"open":101.80570763236852,"high":104.1150111189244,"low":100.48463529893606,"close":104.05451948240652,"volume":99.53467322250744},
        {"date":1432623492956,"open":104.05451948240652,"high":105.76031110145557,"low":102.0043768586002,"close":103.29368908963136,"volume":101.40146732317274},
        {"date":1432709892956,"open":103.29368908963136,"high":103.47582929424021,"low":100.46972663236633,"close":100.80025084437142,"volume":98.07673845708719},
        {"date":1432796292956,"open":100.80025084437142,"high":102.8693928891673,"low":99.66099245417591,"close":99.80202431320977,"volume":100.66869874239582}

        ]}];

    nv.addGraph(function() {
        var chart = nv.models.ohlcBarChart()
            .x(function(d) { return d['date'] })
            .y(function(d) { return d['close'] })
            .duration(250)
            .margin({left: 75, bottom: 50});

        // chart sub-models (ie. xAxis, yAxis, etc) when accessed directly, return themselves, not the parent chart, so need to chain separately
        chart.xAxis
                .axisLabel("Dates")
                .tickFormat(function(d) {
                    return d3.time.format('%x')(new Date(d));
                });

        chart.yAxis
                .axisLabel('Stock Price')
                .tickFormat(function(d,i){ return '$' + d3.format(',.1f')(d); });

        d3.select("#chart1 svg")
                .datum(data)
                .transition().duration(500)
                .call(chart);

        nv.utils.windowResize(chart.update);
        return chart;
    });


</script>
</body>
</html>